%header{class: "#{home_page? ? 'dark' : 'light'}-theme"}
  %nav.navbar.navbar-default.custom-header
    .container
      .navbar-header
        %button.navbar-toggle.collapsed{ aria: { expanded: false }, data: { toggle: 'collapse', target: '#navbar' }, type: 'button' }
          %span.sr-only Toggle navigation
          %span.icon-bar
          %span.icon-bar
          %span.icon-bar
        = link_to 'Alter', root_url, class: 'navbar-brand brand'
      #navbar.colapse.navbar-collapse
        %ul.nav.navbar-nav
          %li
            = link_to 'Запити', requests_url
          %li
            = link_to 'Новини', news_url
          %li
            = link_to 'Про Нас', about_url
        %ul.nav.navbar-nav.navbar-right
          - if user_signed_in?
            %li.dropdown
              %a.dropdown-toggle{ title: "#{current_user.name}", data: { toggle: 'dropdown' }, href: '#' }
                %i.fa.fa-angle-down
                %span.name= current_user.name
                -#- info = @new_messages_count + @new_notifications_count + @new_decisions_count
                -#- info = can?(:unchecked_requests, Request) ? info + Request.unchecked.size : info
                -#- unless info.zero?
                -#  %span#new-info.badge= info
              %ul.dropdown-menu
                %li
                  = link_to 'Мій профіль', user_url(current_user)
                %li
                  = link_to messages_url do
                    Повідомлення
                    - unless @new_messages_count.zero?
                      %span#new-messages.number= @new_messages_count.to_s
                - if can? :create, Request
                  %li
                    = link_to 'Створити запит', new_request_url
                - if current_user.role?(:admin)
                  %li
                    = link_to 'Панель адміністрування', rails_admin_url
                %li
                  = link_to 'Запити', requests_url
                - if can? :unchecked_requests, Request
                  %li
                    = link_to unchecked_requests_url do
                      Незатверджені запити
                      - unless Request.unchecked.size.zero?
                        %span#unchecked-requests-count.number= Request.unchecked.size
                %li
                  = link_to notifications_url do
                    Сповіщення
                    - unless @new_notifications_count.zero?
                      %span#new-notifications.number= @new_notifications_count.to_s
                %li
                  = link_to decisions_url do
                    Відгуки
                    - unless @new_decisions_count.zero?
                      %span.number= @new_decisions_count.to_s
                - if can? :change_ban_status, User
                  %li
                    = link_to 'Користувачі', users_url
                - if can? :manage, Category
                  %li
                    = link_to 'Категорії', categories_url
                %li
                  = link_to 'Налаштування', edit_user_registration_path
                %li
                  = link_to 'Вийти', destroy_user_session_path, method: 'delete'
          - else
            %li
              = link_to 'Увійти', new_user_session_path
