.panel.panel-default
  .panel-heading
    %h4 Редагування запиту
  .panel-body
    = form_for @request, html: { :method => :put, multipart: true, role: 'form' } do |f|
      .form-group
        = f.label :Назва
        = f.text_field :name, class: 'form-control'
      .form-group
        = f.label :Опис
        = f.text_area :description, autofocus: true, class: 'form-control', rows: '5'
      .form-group
        = f.label :Категорії
        %br
        = select_tag 'categories', options_from_collection_for_select(Category.all.order(:name), 'id', 'name', :selected => @collection), multiple: true
      .form-group
        = f.label :Фото
        = f.file_field :photo, accept: 'image/png, image/jpeg'
      = f.submit 'Зберегти', class: 'btn btn-success'

-#%h1 Editing request
-#
-#= form_for @request, html: { :method => :put, multipart: true } do |f|
-#  - if @request.errors.any?
-#    #error_explanation
-#      %h2= "#{pluralize(@request.errors.count, "error")} prohibited this request from being saved:"
-#      %ul
-#        - @request.errors.full_messages.each do |msg|
-#          %li= msg
-#
-#  .field
-#    = f.label :name
-#    = f.text_field :name
-#  .field
-#    = f.label :description
-#    = f.text_area :description
-#  .field
-#    = f.label :photo
-#    = f.file_field :photo
-#  .field
-#    = select_tag 'categories', options_from_collection_for_select(Category.all.order(:name), 'id', 'name', :selected => @collection), multiple: true
-#
-#  .actions
-#    = f.submit 'Save'
-#
-#
-#= link_to 'Show', @request
-#\|
-#= link_to 'Back', requests_path

:javascript
  $(document).ready(function() {
    $('#categories').multiselect({
      enableFiltering: true,
      includeSelectAllOption: true,
      maxHeight: 180,
      dropUp: true
    });
  });
